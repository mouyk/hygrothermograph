C51 COMPILER V9.60.0.0   DISP                                                              07/08/2023 15:50:26 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE DISP
OBJECT MODULE PLACED IN .\output\Disp.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE source\Disp.c LARGE OMF2 OPTIMIZE(8,SPEED) BROWSE INCDIR(.\include;.\sou
                    -rce;.\include) DEBUG PRINT(.\lst\Disp.lst) TABS(2) OBJECT(.\output\Disp.obj)

line level    source

   1          #ifndef _DISP_C_
   2          #define _DISP_C_
   3          
   4          #include "stdlib.h"
   5          #include "stdio.h"
   6          //#include "main.h"
   7          #include "string.h"
   8          #include "Disp.h"
   9          #include "include/ca51f_config.h" 
  10          
  11          uint8_t lcd_ram[34] = {0};
  12          
  13          #define LCD_DRV 1
  14          
  15          #ifdef LCD_DRV
  16          /* 
  17          #define seg_a                       0x01
  18          #define seg_b                       0x20
  19          #define seg_c                       0x80
  20          #define seg_d                       0x08
  21          #define seg_e                       0x04
  22          #define seg_f                       0x02
  23          #define seg_g                       0x40
  24          
  25          static uint8_t                  lcd_ram[34]               = {0};
  26          
  27          
  28          static uint8_t            DispLcdTableNum[]        = {
  29            seg_a+seg_b+seg_c+seg_d+seg_e+seg_f,              //0 
  30            seg_b+seg_c,                                      //1
  31            seg_a+seg_b+seg_g+seg_e+seg_d,                    //2
  32            seg_a+seg_b+seg_c+seg_d+seg_g,                    //3
  33            seg_f+seg_g+seg_b+seg_c,                          //4
  34            seg_a+seg_f+seg_g+seg_c+seg_d,                    //5
  35            seg_a+seg_f+seg_e+seg_d+seg_c+seg_g,              //6
  36            seg_a+seg_b+seg_c,                                //7
  37            seg_a+seg_b+seg_c+seg_d+seg_e+seg_f+seg_g,        //8
  38            seg_a+seg_b+seg_c+seg_d+seg_f+seg_g,              //9
  39          };
  40           */
  41           /*万年历湿度数码管*/
  42          const  uint8_t            DispLcdTableNum[10]        = {
  43            0xaf,      //0 
  44            0xa0,        //1
  45            0x6d,        //2
  46            0xe9,        //3
  47            0xe2,        //4
  48            0xcb,        //5
  49            0xcf,        //6
  50            0xa1,        //7
  51            0xef,        //8
  52            0xeb,        //9
  53          };
  54          
C51 COMPILER V9.60.0.0   DISP                                                              07/08/2023 15:50:26 PAGE 2   

  55          /*
  56          #define seg_a                       0x80
  57          #define seg_b                       0x08
  58          #define seg_c                       0x02
  59          #define seg_d                       0x10
  60          #define seg_e                       0x20
  61          #define seg_f                       0x40
  62          #define seg_g                       0x04
  63          
  64          static uint8_t            DispLcdTableNumTemp[]        = {
  65            seg_a+seg_b+seg_c+seg_d+seg_e+seg_f,              //0 
  66            seg_b+seg_c,                                      //1
  67            seg_a+seg_b+seg_g+seg_e+seg_d,                    //2
  68            seg_a+seg_b+seg_c+seg_d+seg_g,                    //3
  69            seg_f+seg_g+seg_b+seg_c,                          //4
  70            seg_a+seg_f+seg_g+seg_c+seg_d,                    //5
  71            seg_a+seg_f+seg_e+seg_d+seg_c+seg_g,              //6
  72            seg_a+seg_b+seg_c,                                //7
  73            seg_a+seg_b+seg_c+seg_d+seg_e+seg_f+seg_g,        //8
  74            seg_a+seg_b+seg_c+seg_d+seg_f+seg_g,              //9
  75          };
  76          */
  77          
  78          
  79          /*温度特殊数码管*/
  80          const uint8_t            DispLcdTableNumTemp[10]        = {
  81            0xfa,      //0 
  82            0x0a,        //1
  83            0xbc,        //2
  84            0x9e,        //3
  85            0x4e,        //4
  86            0xd6,        //5
  87            0xf6,        //6
  88            0x8a,        //7
  89            0xfe,        //8
  90            0xde,        //9
  91          };
  92          
  93          
  94          /*****************************************************************************
  95           ** \brief   UpdateNixieTubeRAM1
  96                 UpdateNixieTubeRAM2
  97                 将数据转换成数码管缓存数据
  98                // SEG1 INDEX 1 时 十位   addr=1
  99                // SEG2 INDEX 2 时 十位
 100                // SEG3 INDEX 3 时 个位   addr=3
 101                // SEG3 INDEX 4 时 个位
 102           ** \param   [in] none       
 103           ** \return   none
 104          *****************************************************************************/
 105          void UpdateNixieTubeRAMA(char dataRAM,char addr){
 106   1      //extern   uint8_t                  lcd_ram[34];
 107   1            lcd_ram[addr]                                 =0x0f&DispLcdTableNum[dataRAM];
 108   1            lcd_ram[addr+1]                               =0x0f&DispLcdTableNum[dataRAM]>>4;
 109   1      //    printf("addr %#x\n",d[addr]);
 110   1      //    printf("addr++ %#x\n",d[addr+1]); 
 111   1      }
 112          void UpdateNixieTubeRAMB(char dataRAM,char addr){
 113   1      //extern   uint8_t                  lcd_ram[34];  
 114   1            lcd_ram[addr]                                 =0x0f&DispLcdTableNumTemp[dataRAM];
 115   1            lcd_ram[addr+1]                               =0x0f&DispLcdTableNumTemp[dataRAM]>>4;
 116   1      //    printf("addr %#x\n",d[addr]);
C51 COMPILER V9.60.0.0   DISP                                                              07/08/2023 15:50:26 PAGE 3   

 117   1      //    printf("addr++ %#x\n",d[addr+1]); 
 118   1      }
 119          
 120          
 121          //void DispLcdUpdate(uint8_t *mBufL1){
 122          
 123          //}
 124          
 125          
 126          #endif
 127          
*** WARNING C316 IN LINE 127 OF source\Disp.c: unterminated conditionals


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    152    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     54    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
